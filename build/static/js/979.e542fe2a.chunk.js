"use strict";(self.webpackChunkvideo_web_app=self.webpackChunkvideo_web_app||[]).push([[979],{43786:function(e,i,t){t.r(i),t.d(i,{default:function(){return j}});var n=t(29439),o=t(72791),l=t(57689),d=t(25159),s=t(18384),r=t(79690),a=t(80184);function u(e){var i,t=e.index,l=e.item,d=e.active,u=e.setActive,c=e.currVidDetails,v=e.setCurrVidDetails,p=e.updateUserDetails,f=(0,o.useState)(!1),m=(0,n.Z)(f,2),x=m[0],h=m[1],g=(0,o.useContext)(r.S),b=g.getUserProfile,y=g.userProfile,j=g.profileUpdated;(0,o.useEffect)((function(){b()}),[j]);var D;return(0,a.jsxs)("div",{className:"relative flex gap-3 py-2 my-1 items-center cursor-pointer ".concat((x||d===(null===l||void 0===l?void 0:l.videoName))&&"bg-[#ECEFF0] border-[#fff]"," px-2 rounded-lg before:content-[''] before:w-1 before:h-full before:absolute before:top-0 before:left-0 ").concat(d===(null===l||void 0===l?void 0:l.videoName)&&"before:bg-[#6358DD] before:rounded-r-full"),onMouseEnter:function(){return h(!0)},onMouseLeave:function(){return h(!1)},onClick:function(){p(null===c||void 0===c?void 0:c.id),u(null===l||void 0===l?void 0:l.videoName),v({id:null===l||void 0===l?void 0:l.id,thumbnail:null===l||void 0===l?void 0:l.thumbnailUrl,url:null===l||void 0===l?void 0:l.videoUrl,pdf:null===l||void 0===l?void 0:l.pdfUrl,name:null===l||void 0===l?void 0:l.videoName,videoDescription:null===l||void 0===l?void 0:l.videoDescription,completeDescription:null===l||void 0===l?void 0:l.completeDescription})},children:[(0,a.jsx)("img",{className:"w-16 h-14 rounded-md bg-[#ECEFF0]",src:l.thumbnailUrl,alt:""}),(0,a.jsxs)("div",{className:"text-[14px] font-medium text-base ".concat(d===(null===l||void 0===l?void 0:l.videoName)&&"text-[#6358DD]"),style:{fontFamily:"Open Sans, serif"},children:[(D=t,D.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}))," - ",null===l||void 0===l?void 0:l.videoName]}),(null===y||void 0===y||null===(i=y.videoDetails)||void 0===i?void 0:i[null===l||void 0===l?void 0:l.id])>97&&(0,a.jsx)(s.Z,{titleAccess:"Complete",fontSize:"small",className:"absolute right-1 top-1.5 text-green-600"})]})}var c=function(e){var i=e.videosData,t=e.currVidDetails,n=e.setCurrVidDetails,l=e.updateUserDetails,d=e.active,s=e.setActive;return(0,o.useEffect)((function(){if(console.log("videodata ",i),d){var e,t,o,l,s,r,a,u=null===i||void 0===i?void 0:i.filter((function(e,i){return(null===e||void 0===e?void 0:e.videoName)===d}));n({id:null===u||void 0===u||null===(e=u[0])||void 0===e?void 0:e.id,thumbnail:null===u||void 0===u||null===(t=u[0])||void 0===t?void 0:t.thumbnailUrl,url:null===u||void 0===u||null===(o=u[0])||void 0===o?void 0:o.videoUrl,pdf:null===u||void 0===u||null===(l=u[0])||void 0===l?void 0:l.pdfUrl,name:null===u||void 0===u||null===(s=u[0])||void 0===s?void 0:s.videoName,videoDescription:null===u||void 0===u||null===(r=u[0])||void 0===r?void 0:r.videoDescription,completeDescription:null===u||void 0===u||null===(a=u[0])||void 0===a?void 0:a.completeDescription})}else{var c,v,p,f,m,x,h;n({id:null===i||void 0===i||null===(c=i[0])||void 0===c?void 0:c.id,thumbnail:null===i||void 0===i||null===(v=i[0])||void 0===v?void 0:v.thumbnailUrl,url:null===i||void 0===i||null===(p=i[0])||void 0===p?void 0:p.videoUrl,pdf:null===i||void 0===i||null===(f=i[0])||void 0===f?void 0:f.pdfUrl,name:null===i||void 0===i||null===(m=i[0])||void 0===m?void 0:m.videoName,videoDescription:null===i||void 0===i||null===(x=i[0])||void 0===x?void 0:x.videoDescription,completeDescription:null===i||void 0===i||null===(h=i[0])||void 0===h?void 0:h.completeDescription})}}),[i]),(0,a.jsx)(a.Fragment,{children:null===i||void 0===i?void 0:i.map((function(e,i){return(0,a.jsx)(u,{item:e,index:i,active:d,setActive:s,currVidDetails:t,setCurrVidDetails:n,updateUserDetails:l},i)}))})},v=t(15137),p=t(5803),f=t(42161),m=t(13239),x=t(94294),h=t(49687),g=function(e){var i=e.setDescription,t=e.initialScript,n=void 0===t?"":t,l=(0,o.useRef)(null);return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(h.M,{apiKey:"ozas0k3imit46jvcman64faw0rhpp58u12yquii27eqws1jv",onInit:function(e,i){return l.current=i},initialValue:n,onEditorChange:function(){l.current&&(console.log(l.current),i(l.current.getContent()))},init:{plugins:" preview autosave save directionality fullscreen image link media insertdatetime advlist lists wordcount charmap emoticons",menubar:!1,toolbar:" undo redo | fontsize | bold underline | forecolor | p strong em ul ol li | alignleft aligncenter alignjustify | numlist bullist | outdent indent | link",selector:"textarea",font_size_formats:"8px 10px 12px 14px 16px 18px 20px 24px 28px 32px 36px 40px",content_style:"body { font-family:roboto,Arial,sans-serif; font-size:14px }",content_css:"./TextEditor.css"}})})},b=function(e){var i=e.description;return(0,a.jsx)("div",{className:"flex flex-col justify-between py-1 callScript overflow-auto h-85v",children:(0,a.jsx)("div",{dangerouslySetInnerHTML:{__html:'\n                        <html lang="en">\n                            <head>\n                                <meta charset="UTF-8" />\n                                <meta\n                                name="viewport"\n                                content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui"\n                                />\n                                <meta http-equiv="X-UA-Compatible" content="ie=edge" />\n                                <link\n                                href="https://fonts.googleapis.com/css?family=Roboto"\n                                rel="stylesheet"\n                                />\n                                <title>Business Partner | Fincity</title>\n                                \x3c!-- Stylesheets--\x3e\n                                <style>\n                                html,\n                                body {\n                                    margin: 0;\n                                    padding: 0;\n                                }\n                                .previewStyles ul{\n                                  list-style-type: disc !important;\n                                  margin-left: 18px;\n                                }\n                                .previewStyles ol{\n                                  list-style-type: decimal;\n                                  margin-left: 18px;\n                                }\n                                .previewStyles h3{\n                                  font-size: x-large;\n                                  font-weight: 500;\n                                  margin-top: 4px;\n                                }\n                                </style>\n                            </head>\n                            <body>\n                                <div\n                                    style="\n                                        position: relative;\n                                        margin: auto;\n                                        height: auto;\n                                        padding: 0px;\n                                        font-family: \'Roboto\';\n                                        font-size: 16px;\n                                        color: #000000;\n                                        background: #f4f6f7;\n                                        padding: 25px 0;\n                                    "\n                                >\n                                    <div\n                                        style="\n                                            position: relative;\n                                            margin: auto;\n                                            padding-left: 45px;\n                                            padding-right: 45px;\n                                        "\n                                    >\n                                        <div class="previewStyles">'.concat(i,"</div>\n                                    </div>\n                                </div>\n                            </body>\n                        </html>\n                    ")}})})},y=t.p+"static/media/download-pdf.e228611c7b835ae43755.png",j=function(){var e=(0,l.UO)(),i=e.contentType,t=e.videoName,s=(0,o.useState)([]),u=(0,n.Z)(s,2),h=u[0],j=u[1],D=(0,o.useState)(null),N=(0,n.Z)(D,2),w=N[0],S=N[1],C=(0,o.useState)(t),U=(0,n.Z)(C,2),k=U[0],V=U[1],E=(0,o.useState)(""),A=(0,n.Z)(E,2),F=A[0],z=A[1],Z=(0,o.useState)(""),_=(0,n.Z)(Z,2),M=_[0],P=_[1],I=(0,o.useRef)(null),R=localStorage.getItem("role");console.log("videoName ",t);var T=(0,o.useContext)(d.l),B=T.getContent,O=T.latestVideos,q=T.introVideos,L=T.chatBotsVideos,G=T.facebookAdsVideos,H=T.googleAdsVideos,K=T.seoVideos,W=T.crmVideos,X=T.updateVideoContent,Y=T.videoUpdated,J=(0,o.useContext)(r.S),Q=J.updateUserProfile,$=(J.getUserProfile,J.userProfile),ee=(J.setUserProfile,J.profileUpdated,(0,l.s0)());(0,o.useEffect)((function(){B(i)}),[i,Y]),(0,o.useEffect)((function(){j("latest"===i?O:"Introduction"===i?q:"FacebookAds"===i?G:"GoogleAds"===i?H:"SEO"===i?K:"CRM"===i?W:"ChatBots"===i?L:[])}),[O,q,L,G,H,K,W]),(0,o.useEffect)((function(){z(null===w||void 0===w?void 0:w.completeDescription),P(null===w||void 0===w?void 0:w.completeDescription)}),[w]);var ie=function(){var e;return null===h||void 0===h||null===(e=h.filter((function(e){var i,t=null===e||void 0===e?void 0:e.id,n=null===$||void 0===$||null===(i=$.videoDetails)||void 0===i?void 0:i[t];return void 0!==n&&n>97})))||void 0===e?void 0:e.length},te=function(){return ie()/(null===h||void 0===h?void 0:h.length)*100};return console.log("currVidDetails ",w),(0,a.jsxs)("div",{className:"relative flex w-[100%] justify-between px-14 pt-20 bg-[#EBEAEF] min-h-screen pb-10",children:[(0,a.jsx)(p.Z,{fontSize:"large",className:"absolute right-8 top-6 text-[#8d86db] hover:text-[#4338b0] hover:font-medium cursor-pointer",onClick:function(){return ee("/profile")},titleAccess:"Profile"}),(0,a.jsxs)("div",{className:"fixed top-[10px] left-[10px] w-[22%] px-4 py-4 rounded-2xl bg-slate-50",style:{boxShadow:"0px 0px 15px rgba(0,0,0,0.4)",height:"calc(100vh - 20px)"},children:[(0,a.jsxs)("div",{className:"flex items-center text-2xl cursor-pointer",onClick:function(){return ee("/")},children:[(0,a.jsx)("img",{src:v,alt:"",className:"w-12",loading:"lazy",title:"Matrix 24"}),(0,a.jsx)("h2",{className:"text-[#5A0090]",style:{fontFamily:"Noto Serif, serif"},children:"Matrix 24"})]}),(0,a.jsxs)("div",{className:"flex items-center mt-8 gap-3",children:[(0,a.jsx)(f.Z,{fontSize:"large",className:"border-2 border-gray-400 rounded-full text-gray-500 cursor-pointer",onClick:function(){return ee(-1)}}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xl font-medium",style:{fontFamily:"Noto Serif, serif"},children:i.charAt(0).toUpperCase()+i.slice(1)}),(0,a.jsxs)("div",{className:"flex gap-2",style:{fontFamily:"Open Sans, serif"},children:[(0,a.jsx)("div",{className:"relative",children:(0,a.jsx)(m.Z,{variant:"determinate",size:16,value:Math.floor(te()),title:"".concat(Math.floor(te()),"%")})}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:[ie(),"/",null===h||void 0===h?void 0:h.length," completed"]})]})]})]}),(0,a.jsx)("div",{className:"mt-4 overflow-auto",children:(0,a.jsx)(c,{videosData:h,currVidDetails:w,setCurrVidDetails:S,updateUserDetails:function(e){if(console.log("updating"),null!==I&&void 0!==I&&I.current){var i,t=I.current,n=t.currentTime/t.duration*100,o={videoId:e,percentageWatched:n};(null===$||void 0===$||null===(i=$.videoDetails)||void 0===i?void 0:i[e])<n&&Q(o)}},active:k,setActive:V})})]}),(0,a.jsxs)("div",{className:"w-[68%] mt-[-6px] ml-[35%]",children:[(0,a.jsx)("p",{className:"text-2xl font-medium mb-2",children:null===w||void 0===w?void 0:w.name}),(null===w||void 0===w?void 0:w.url)&&(0,a.jsxs)("video",{ref:I,controls:!0,width:"100%",style:{maxHeight:"90vh",borderRadius:"10px"},children:[(0,a.jsx)("source",{src:w.url,type:"video/mp4"}),"Your browser does not support the video tag."]},null===w||void 0===w?void 0:w.id),"admin"===R&&(0,a.jsxs)("div",{className:"flex flex-col items-end",children:[(0,a.jsx)("div",{className:"w-full mt-6",children:(0,a.jsx)(g,{initialScript:M,setDescription:z})}),(0,a.jsx)(x.Z,{className:"w-[150px]",variant:"contained",onClick:function(){return X({contentId:null===w||void 0===w?void 0:w.id,contentType:i,completeDescription:F})},children:"Save"})]}),F&&(0,a.jsxs)("div",{className:"mt-4 announcement bg-[#f4f6f7] rounded pb-4",children:[(0,a.jsx)(b,{description:F}),(null===w||void 0===w?void 0:w.pdf)&&(0,a.jsx)("div",{className:"relative h-20 w-20",children:(0,a.jsx)("img",{className:"w-20 ml-10 cursor-pointer hover:shadow-xl",src:y,alt:"",onClick:function(){return window.open(null===w||void 0===w?void 0:w.pdf,"_blank")}})})]})]})]})}}}]);
//# sourceMappingURL=979.e542fe2a.chunk.js.map